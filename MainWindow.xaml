<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="JustBedwars.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:JustBedwars"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:muxm="using:Microsoft.UI.Xaml.Media"
    xmlns:media="using:CommunityToolkit.WinUI.Media"
    xmlns:animations="using:CommunityToolkit.WinUI.Animations"
    mc:Ignorable="d"
    Title="JustBedwars">

    <Window.SystemBackdrop>
        <MicaBackdrop Kind="Base"/>
    </Window.SystemBackdrop>
    <Window.Content>
        <Page>
            <Grid>
                <Grid.Background>
                    <media:AcrylicBrush BlurAmount="50" TintColor="Black" TintOpacity="0"/>
                </Grid.Background>
                <!-- App Title -->
                <TextBlock Text="JustBedwars" 
                           HorizontalAlignment="Center" 
                           VerticalAlignment="Top" 
                           Margin="7" 
                           x:Name="AppTitle" 
                           Canvas.ZIndex="1">
                    <animations:Implicit.ShowAnimations>
                        <animations:TranslationAnimation Duration="0:0:1" Delay="0:0:4" From="0,-40,0" To="0"/>
                        <animations:OpacityAnimation Duration="0:0:1" Delay="0:0:4" From="0" To="1.0"/>
                    </animations:Implicit.ShowAnimations>
                </TextBlock>
                <!-- Back Button - Currently Disabled -->
                <AppBarButton Click="BackButton_Click"
                              x:Name="BackButton"
                              Icon="Back"
                              IsCompact="True"
                              Width="36"
                              Height="60"
                              Margin="7, -3, 0, 0"
                              Padding="20"
                              Visibility="Collapsed"/>
                <!-- Always on Top-->
                <Button Click="AlwaysOnTopButton_Click"
                        CornerRadius="0"
                        Background="Transparent"
                        BorderBrush="Transparent"
                        x:Name="AlwaysOnTopButton"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Top"
                        Width="48"
                        Height="32"
                        Margin="0, 0, 138, 0"
                        Padding="3"
                        FontFamily="Segoe Fluent Icons"
                        Content="&#xE8A7;"
                        Canvas.ZIndex="1">
                    <animations:Implicit.ShowAnimations>
                        <animations:TranslationAnimation Duration="0:0:1" Delay="0:0:4" From="0,-40,0" To="0"/>
                        <animations:OpacityAnimation Duration="0:0:1" Delay="0:0:4" From="0" To="1.0"/>
                    </animations:Implicit.ShowAnimations>
                </Button>
                <!-- Navigation View -->
                <NavigationView x:Name="NavView"
                                Loaded="NavView_Loaded"
                                ItemInvoked="NavView_ItemInvoked"
                                IsBackButtonVisible="Collapsed"
                                AlwaysShowHeader="False"
                                PaneDisplayMode="Auto"
                                IsPaneOpen="False"
                                PaneTitle="JustBedwars"
                                Margin="0, 32, 0, 0">
                    <NavigationView.MenuItems>
                        <NavigationViewItem Icon="Play" Content="Current Game" Tag="JustBedwars.Views.PlayerList"/>
                        <NavigationViewItem Icon="OtherUser" Content="Player Lookup" Tag="JustBedwars.Views.StatsPage"/>
                    </NavigationView.MenuItems>
                    <NavigationView.Content>
                        <Frame x:Name="ContentFrame"/>
                    </NavigationView.Content>
                    <animations:Implicit.ShowAnimations>
                        <animations:TranslationAnimation Duration="0:0:1" Delay="0:0:3.5" From="0,200,0" To="0"/>
                        <animations:OpacityAnimation Duration="0:0:1" Delay="0:0:3.5" From="0" To="1.0"/>
                    </animations:Implicit.ShowAnimations>
                </NavigationView>
                <!-- Splash Screen -->
                <Image Source="/Assets/SplashScreen.png" MaxWidth="620" Stretch="Uniform">
                    <animations:Implicit.ShowAnimations>
                        <animations:TranslationAnimation Duration="0:0:1.5" Delay="0:0:3.2" From="0" To="0,-350,0"/>
                        <animations:OpacityAnimation Duration="0:0:1.5" Delay="0:0:3.2" From="1.0" To="0"/>
                    </animations:Implicit.ShowAnimations>
                </Image>
            </Grid>
        </Page>
    </Window.Content>
</Window>
