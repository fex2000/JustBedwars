<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="JustBedwars.Views.SettingsView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:JustBedwars.Views"
    xmlns:toolkit="using:CommunityToolkit.WinUI.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <ScrollView HorizontalAlignment="Stretch" ZoomMode="Disabled">
        <StackPanel Orientation="Vertical" Padding="50" Spacing="4" MaxWidth="1100" VerticalAlignment="Top">
            <TextBlock Text="Settings" FontWeight="SemiBold" FontSize="30" Margin="0"/>

            <!-- General Settings -->
            <TextBlock Text="Player List" FontSize="14" Margin="6, 36, 6, 6" FontWeight="Medium"/>

            <!-- Sorting -->
            <toolkit:SettingsCard Header="Player Sorting" Description="The order that players appear in">
                <ComboBox x:Name="SortingComboBox" PlaceholderText="Select Sorting" Width="200" SelectionChanged="SortingComboBox_SelectionChanged">
                    <x:String>JustBedwars Score</x:String>
                    <x:String>Abyss Index</x:String>
                    <x:String>Stars</x:String>
                    <x:String>FKDR</x:String>
                    <x:String>WLR</x:String>
                </ComboBox>
                <toolkit:SettingsCard.HeaderIcon>
                    <FontIcon FontFamily="Segoe Fluent Icons" Glyph="&#xE8CB;"/>
                </toolkit:SettingsCard.HeaderIcon>
            </toolkit:SettingsCard>

            <!-- Auto-Adding -->
            <toolkit:SettingsExpander Header="Auto player adding" Description="Select which Events add or remove players" IsEnabled="False">
                <toolkit:SettingsExpander.Items>
                    <toolkit:SettingsCard>

                    </toolkit:SettingsCard>
                </toolkit:SettingsExpander.Items>
                <toolkit:SettingsExpander.HeaderIcon>
                    <FontIcon FontFamily="Segoe Fluent Icons" Glyph="&#xE9F5;"/>
                </toolkit:SettingsExpander.HeaderIcon>
                <TextBlock Text="Coming soon"/>
            </toolkit:SettingsExpander>

            <!-- Log -->
            <toolkit:SettingsCard Header="Log Location"
                              Description="Set to your .minecraft/logs/latest.log location to use">
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <TextBox x:Name="LogFilePathTextBox" IsReadOnly="True" Width="200"/>
                    <Button x:Name="SelectLogFileButton" Content="Select" Click="SelectLogFileButton_Click"/>
                </StackPanel>
                <toolkit:SettingsCard.HeaderIcon>
                    <FontIcon FontFamily="Segoe Fluent Icons" Glyph="&#xE8E5;"/>
                </toolkit:SettingsCard.HeaderIcon>
            </toolkit:SettingsCard>

            
            <!-- Widgets -->
            <TextBlock Text="Widgets" FontSize="14" Margin="6, 24, 6, 3" FontWeight="Medium"/>
            <TextBlock Text="Shown in Expanded Sidebar" FontSize="12" Margin="6, 0, 6, 0" FontWeight="Normal"/>
            <TextBlock Text="Made to get more functionality for usage on second screens." FontSize="12" Margin="6, 0, 6, 6" FontWeight="Normal"/>
            <!-- Media -->
            <toolkit:SettingsCard Header="Media Player" Description="See Windows Media">
                <ToggleSwitch x:Name="MediaPlayerToggle" Toggled="MediaPlayerToggle_Toggled"/>
                <toolkit:SettingsCard.HeaderIcon>
                    <FontIcon FontFamily="Segoe Fluent Icons" Glyph="&#xEA69;"/>
                </toolkit:SettingsCard.HeaderIcon>
            </toolkit:SettingsCard>

            <!-- More Settings -->
            <TextBlock Text="More" FontSize="14" Margin="6, 24, 6, 6" FontWeight="Medium"/>

            <!-- Advanced Settings -->
            <toolkit:SettingsExpander Header="JustBedwars">
                <TextBlock Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                       Text="{x:Bind Version, Mode=OneWay}" />
                <toolkit:SettingsExpander.Items>
                    <toolkit:SettingsCard HorizontalContentAlignment="Left"
                                               ContentAlignment="Left">
                        <StackPanel Margin="-12,0,0,0"
                                Orientation="Vertical">
                            <TextBlock Text="About" Margin="12, 6" FontSize="16" FontWeight="SemiBold"/>
                            <HyperlinkButton Content="GitHub Repository" NavigateUri="https://github.com/fex2000/JustBedwars"/>
                            <HyperlinkButton Content="Download Page" NavigateUri="https://fex2000.github.io/JustBedwars/"/>
                        </StackPanel>
                    </toolkit:SettingsCard>
                    <toolkit:SettingsCard HorizontalContentAlignment="Left"
                                          ContentAlignment="Left">
                        <StackPanel Margin="-12,0,0,0"
                                    Orientation="Vertical">
                            <TextBlock Text="Powered by" Margin="12, 6" FontSize="16" FontWeight="SemiBold"/>
                            <HyperlinkButton Content="Starlight Skins API" NavigateUri="https://docs.lunareclipse.studio/"/>
                            <HyperlinkButton Content="Hypixel API" NavigateUri="https://api.hypixel.net/"/>
                        </StackPanel>
                    </toolkit:SettingsCard>
                </toolkit:SettingsExpander.Items>
                <toolkit:SettingsExpander.HeaderIcon>
                    <FontIcon FontFamily="Segoe Fluent Icons" Glyph="&#xE946;"/>
                </toolkit:SettingsExpander.HeaderIcon>
            </toolkit:SettingsExpander>
            <toolkit:SettingsExpander Header="Developer Settings">
                <toolkit:SettingsExpander.Items>
                    <toolkit:SettingsCard Header="Debug Utilities">
                        <Button Content="Open Logs" Click="OpenDebugWindow_Click" Margin="0,10,0,0"/>
                        <toolkit:SettingsCard.HeaderIcon>
                            <FontIcon FontFamily="Segoe Fluent Icons" Glyph="&#xE756;"/>
                        </toolkit:SettingsCard.HeaderIcon>
                    </toolkit:SettingsCard>
                    <toolkit:SettingsCard Header="Hypixel API Key"
                      Description="For development, not recommended for regular users, can be bannable.">
                        <PasswordBox x:Name="ApiKeyPasswordBox" PasswordChanged="ApiKeyPasswordBox_PasswordChanged" IsPasswordRevealButtonEnabled="True"/>
                        <toolkit:SettingsCard.HeaderIcon>
                            <FontIcon FontFamily="Segoe Fluent Icons" Glyph="&#xE8D7;"/>
                        </toolkit:SettingsCard.HeaderIcon>
                    </toolkit:SettingsCard>
                </toolkit:SettingsExpander.Items>
                <toolkit:SettingsExpander.HeaderIcon>
                    <FontIcon FontFamily="Segoe Fluent Icons" Glyph="&#xE9F5;"/>
                </toolkit:SettingsExpander.HeaderIcon>
            </toolkit:SettingsExpander>
        </StackPanel>
    </ScrollView>
</Page>
